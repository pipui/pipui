/* PipUI v1.3.1 © Qexy | Site: https://pipui.ru | License: MIT */
var pipui={a:10,array_unique:function(t){for(var e=[],i=0;i<t.length;i++)-1===e.indexOf(t[i])&&e.push(t[i]);return e},indexOfCase:function(t,e){var i=-1;if(e=e.toLowerCase(),"object"==typeof t){for(var a=0;a<t.length;a++)if(t[a].toLowerCase()==e){i=a;break}}else i=t.toLowerCase().indexOf(e);return i},top_space:function(t){return t.offset().top-window.pageYOffset},bottom_space:function(t){return window.innerHeight-t.offset().top-t.outerHeight()+window.pageYOffset},left_space:function(t){return t.offset().left-window.pageXOffset},right_space:function(t){return window.innerWidth-t.offset().left-t.outerWidth()+window.pageXOffset},append:function(t,e){"object"==typeof e?t.append(e):t.insertAdjacentHTML("beforeend",e)},prepend:function(t,e){"object"==typeof e?t.prepend(e):t.insertAdjacentHTML("afterbegin",e)},after:function(t,e){"object"==typeof e?t.parentNode.insertBefore(e,t.nextSibling):t.insertAdjacentHTML("afterend",e)},before:function(t,e){"object"==typeof e?t.parentNode.insertBefore(e,t):t.insertAdjacentHTML("beforebegin",e)},replaceAll:function(t,e,i){return t.split(e).join(i)}},p=pipui;$(function(){$("body").on("click",".preventDefault",function(t){t.preventDefault()})}),$(function(){$("html").on("click","body",function(t){var e=$(t.target),i=e.closest(".nav-sub"),a=i.closest(".nav-li");if(i.length||e.closest(".nav-submenu").length){var o=e.closest(".navbar");$(".navbar").not(o).find(".nav-sub.active, .nav-submenu.active").removeClass("active left-pos right-pos"),a.siblings(".nav-li").not(a).find(".nav-sub.active, .nav-submenu.active").removeClass("active left-pos right-pos")}else $(".navbar .nav-submenu.active, .navbar .nav-sub.active").removeClass("active left-pos right-pos")}),$("body").on("click",".navbar .nav-sub",function(t){t.preventDefault();var e=$(this),i=e.closest(".nav-li").children(".nav-submenu"),a=e.closest(".navbar"),o=t.pageX-a.offset().left,r=a.outerWidth()-o;e.hasClass("active")&&i.hasClass("active")?(e.removeClass("active"),i.removeClass("active left-pos right-pos"),i.find(".nav-submenu.active, .nav-sub.active").removeClass("active")):(o>r?i.addClass("right-pos"):i.addClass("left-pos"),e.addClass("active"),i.addClass("active"))}).on("click",".navbar .navbar-wrapper .nav-mobile",function(t){t.preventDefault(),$(this).closest(".navbar").toggleClass("open")})}),pipui.modal={open:function(t){return""!=t&&(!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeIn("fast",function(){$(this).addClass("active")}),!0))},close:function(t){return""!=t&&(!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeOut("fast",function(){$(this).removeClass("active")}),!0))},toggle:function(t){return""!=t&&(!!(t=$('.modal[data-id="'+t+'"]')).length&&(t.fadeToggle("fast",function(){$(this).toggleClass("active")}),!0))}},$(function(){$("body").on("click","[data-modal]",function(t){"INPUT"!=t.target.tagName&&t.preventDefault();var e=$(this),i=e.attr("data-modal");$(".modal").fadeOut("fast"),i||(i=e.attr("href")),i&&pipui.modal.open(i)}).on("click",".modal [data-modal-close]",function(t){t.preventDefault(),pipui.modal.close($(this).closest(".modal").attr("data-id"))}).on("click",".modal",function(t){var e=$(t.target);e.closest(".modal-content").length||pipui.modal.close(e.closest(".modal").attr("data-id"))})}),pipui.alert={openTimeout:3e3,open:function(t,e,i,a,o){e=void 0===e?"":e,"string"!=typeof i&&(i="bottom-center");var r=i.split("-");"top"!=r[0]&&"bottom"!=r[0]&&"center"!=r[0]&&(r[0]="bottom"),"left"!=r[1]&&"right"!=r[1]&&"center"!=r[1]&&(r[1]="center"),i=r[0]+"-"+r[1];var n=$('.alert[data-placement="'+i+'"]');n.length||(n=$('<div class="alert" data-placement="'+i+'"></div>'),"top"==r[0]?$("body").prepend(n):$("body").append(n));var s=Math.random(),l=$('<div class="alert-id" style="display: none;" data-id="'+s+'"><div class="alert-content">'+t+'</div><div class="alert-footer"><div class="block-left"><div class="title">'+e+'</div></div><div class="block-right"><button class="btn btn-transparent close-trigger">ЗАКРЫТЬ</button></div></div></div>');return n.append(l),l.fadeIn("fast",function(){void 0!==o&&o()}),void 0===a&&(a=this.openTimeout),"number"==typeof a&&setTimeout(function(){pipui.alert.close('.alert .alert-id[data-id="'+s+'"]')},a),!0},close:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast",function(){$(this).remove()})},300*t)}),void 0!==e&&e()},hide:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast")},300*t)}),void 0!==e&&e()},show:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".alert").stop(),t.each(function(t){var e=$(this);setTimeout(function(){e.fadeIn("fast")},300*t)}),void 0!==e&&e()}},$(function(){$("body").on("click",".alert > .alert-id .close-trigger",function(t){t.preventDefault(),pipui.alert.close($(this).closest(".alert-id"))}),setTimeout(function(){pipui.alert.close($('.alert > .alert-id[data-autoclose="true"]'))},pipui.alert.openTimeout)}),pipui.confirm={openTimeout:3e3,storage:{},open:function(t,e,i,a,o,r,n,s){var l="string"==typeof t||"number"==typeof t?t:"";"object"==typeof t&&(void 0!==t.title&&(e=t.title),void 0!==t.text&&(l=t.text),"function"==typeof t.success&&(i=t.success),"function"==typeof t.fail&&(a=t.fail),void 0!==t.autoclose&&(o=t.autoclose),"function"==typeof t.complete&&(r=t.complete),"string"!=typeof t.yes&&"number"!=typeof t.yes||(n=t.yes),"string"!=typeof t.no&&"number"!=typeof t.no||(s=t.no)),void 0===n&&(n="ОК"),void 0===s&&(s="Отмена");var p=$(".confirm");p.length||(p=$('<div class="confirm"></div>'),$("body").append(p)),void 0===e&&(e="Подтвердите действие на странице");var c=Math.random().toString(),u=$('<div class="confirm-id" style="display: none;" data-id="'+c+'"><div class="confirm-title">'+e+'</div><div class="confirm-text">'+l+'</div><div class="confirm-footer"><button class="btn btn-transparent yes-trigger">'+n+'</button><button class="btn btn-transparent no-trigger">'+s+"</button></div></div>");p.append(u),u.fadeIn("fast",function(){"function"==typeof r&&r()}),"number"==typeof o&&o>0&&setTimeout(function(){pipui.confirm.close(u)},o),this.storage[c]={id:c,success:i,fail:a,yes:n,no:s,autoclose:o}},close:function(t,e){if(!(t="string"==typeof t?$(t):t).length)return!1;$(".confirm").stop();var i=0;t.each(function(t){var e=$(this);setTimeout(function(){e.fadeOut("fast",function(){$(this).remove()})},300*t),i=t}),"function"==typeof e&&setTimeout(function(){e()},300*i)},complete:function(t,e,i){if(t="string"==typeof t?$(t):t,e="yes"==e?e:"no",!t.length)return!1;$(".confirm").stop();var a=0;t.each(function(t){var i=$(this),o=pipui.confirm.storage[i.attr("data-id")];"undefined"!=o&&("yes"==e?"function"==typeof o.success&&o.success():"function"==typeof o.fail&&o.fail(),delete pipui.confirm.storage[i.attr("data-id")],setTimeout(function(){i.fadeOut("fast",function(){$(this).remove()})},300*t)),a=t}),"function"==typeof i&&setTimeout(function(){i()},300*a)}},$(function(){$("body").on("click",".confirm > .confirm-id .no-trigger, .confirm > .confirm-id .yes-trigger",function(t){t.preventDefault();var e=$(this);e.prop("disabled",!0),pipui.confirm.complete(e.closest(".confirm-id"),e.hasClass("yes-trigger")?"yes":"no")}),setTimeout(function(){pipui.confirm.close($('.confirm > .confirm-id[data-autoclose="true"]'))},pipui.confirm.openTimeout)}),pipui.tabs={active:function(t){if("string"!=typeof t)return!1;var e=$('.tabs > .tab-links .tab-link[data-id="'+t+'"]'),i=$(".tabs > .tab-list > .tab-id"+t);if(e.hasClass("active")&&i.hasClass("active"))return!1;var a=e.closest(".tabs");return a.children(".tab-links").find(".tab-link.active").removeClass("active"),a.children(".tab-list").children(".tab-id.active").removeClass("active"),e.addClass("active"),i.addClass("active"),!0}},$(function(){$("body").on("click",".tabs > .tab-links .tab-link:not([data-link])",function(t){t.preventDefault(),pipui.tabs.active($(this).attr("data-id"))})}),pipui.spoiler={show:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideDown("fast",function(){$(this).addClass("active")}),this):this},hide:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideUp("fast",function(){$(this).removeClass("active")}),this):this},toggle:function(t){return(t="string"==typeof t?$(".spoiler"+t):t).length&&t.length?(t.slideToggle("fast",function(){$(this).toggleClass("active")}),this):this},showAll:function(){return $(".spoiler").slideDown("fast",function(){$(this).addClass("active")}),this},hideAll:function(){return $(".spoiler").slideUp("fast",function(){$(this).removeClass("active")}),this}},$(function(){$("body").on("click","[data-spoiler]",function(t){t.preventDefault();var e=$(this),i=e.attr("data-spoiler");void 0!==i&&""!=$.trim(i)||(i=e.attr("href")),i&&pipui.spoiler.toggle(i)}).on("click","[data-spoiler-show], [data-spoiler-hide]",function(t){t.preventDefault();var e=$(this),i=e.attr("data-spoiler-show"),a=e.attr("data-spoiler-hide"),o=void 0!==i,r=e.attr(o?i:a);void 0!==r&&""!=$.trim(r)||(r=e.attr("href")),r&&(o?pipui.spoiler.show(r):pipui.spoiler.hide(r))}).on("click",".accordion > .accordion-id > .accordion-trigger",function(t){t.preventDefault();var e=$(this);e.closest(".accordion").children(".accordion-id.active").children(".accordion-target").slideUp("fast",function(){$(this).closest(".accordion-id").removeClass("active")});var i=e.closest(".accordion-id");i.hasClass("active")?i.children(".accordion-target").slideUp("fast",function(){i.removeClass("active")}):i.children(".accordion-target").slideDown("fast",function(){i.addClass("active")})})}),pipui.textarea={element:".textarea",render:function(t){$(t).length&&$(t).each(function(){var t=$(this),e=t.attr("data-textarea-id");void 0!==e&&""!=e||(e=Math.random());var i='.textarea-numbers[data-textarea-id="'+e+'"] > ul',a=$(i),o=t.find("textarea");a.length||(t.append('<div class="textarea-numbers" data-textarea-id="'+e+'"><ul></ul></div>'),o.attr("data-textarea-id",e),t.attr("data-textarea-id",e),a=$(i));for(var r=o[0].value,n=r.split("\n").length,s=1;s<=n;s++)a.append('<li data-id="'+s+'"><a href="#line-'+e+"-"+s+'">'+s+"</a></li>");o.val(r.replace(/ {3}/g,"\t"))})}},$(function(){pipui.textarea.render(pipui.textarea.element),$("html").on("keydown",pipui.textarea.element+" textarea",function(t){if(9==t.keyCode){var e=$(t.target).closest("textarea");e.length&&setTimeout(function(){e.focus();var t=e[0],i=t.selectionStart,a=t.selectionEnd,o=e.val(),r=o.substring(0,i),n=o.substring(i,a),s=o.substring(a,o.length),l=(n=n.replace(/\n/g,"\n\t")).split("\n").length,p=r+"\t"+n+s;e.val(p),t.setSelectionRange(i+1,a+l)},0)}}).on("click",pipui.textarea.element+" textarea",function(){$(this).attr("data-prev-start",this.selectionStart).attr("data-prev-end",this.selectionEnd)}).on("input",pipui.textarea.element+" textarea",function(){var t=$(this),e=parseInt(t.attr("data-prev-start")),i=parseInt(t.attr("data-prev-end")),a=this.selectionStart,o=this.selectionEnd,r=t.val(),n=t.attr("data-textarea-id"),s=r.match(/ {3}/g,"\t");s&&t.val(r.replace(/ {3}/g,"\t"));var l=t.closest(pipui.textarea.element).find("ul > li"),p=l.length,c=r.split("\n").length;if(c!=p)if(c>p)for(var u=l.closest("ul"),d=p+1;d<=c;d++)u.append('<li data-id="'+d+'"><a href="#line-'+n+"-"+d+'">'+d+"</a></li>");else t.closest(pipui.textarea.element).find("ul > li:nth-child("+c+")").nextAll().remove();s&&this.setSelectionRange(e-1,i-1),t.attr("data-prev-start",a).attr("data-prev-end",o)}).on("click",pipui.textarea.element+" > .textarea-numbers > ul > li > a",function(t){t.preventDefault();var e=$(this),i=e.attr("href").split("-"),a=parseInt(i[2])-1,o=e.closest(pipui.textarea.element).find("textarea"),r=o.val(),n=0,s=0;$.each(r.split("\n"),function(t,e){var i=e.length;if(a==t)return s=i,t,!1;n=n+i+1}),o.focus(),o[0].setSelectionRange(n,n+s),setTimeout(function(){o.scrollTop(e.closest("li")[0].offsetTop+10-(o.outerHeight()/2).toFixed())},0)}),$("body "+pipui.textarea.element+" textarea").on("scroll",function(t){var e=$(t.target);e.closest(pipui.textarea.element).find(".textarea-numbers > ul").css("top",-e.scrollTop()+"px")})}),pipui.bbpanel={element:".bbpanel",targetClass:"bbpanel-target",codes:{b:{title:"Жирный",text:'<i class="fa fa-bold"></i>',left:"[b]",right:"[/b]"},i:{title:"Курсив",text:'<i class="fa fa-italic"></i>',left:"[i]",right:"[/i]"},u:{title:"Подчеркнутый",text:'<i class="fa fa-underline"></i>',left:"[u]",right:"[/u]"},s:{title:"Зачеркнутый",text:'<i class="fa fa-strikethrough"></i>',left:"[s]",right:"[/s]"},left:{title:"Выравнивание по левому краю",text:'<i class="fa fa-align-left"></i>',left:"[left]",right:"[/left]"},center:{title:"Выравнивание по центру",text:'<i class="fa fa-align-center"></i>',left:"[center]",right:"[/center]"},right:{title:"Выравнивание по правому краю",text:'<i class="fa fa-align-right"></i>',left:"[right]",right:"[/right]"},spoiler:{title:"Скрытый текст",text:'<i class="fa fa-eye-slash"></i>',left:'[spoiler=""]',right:"[/spoiler]"},color:{title:"Цвет текста",text:'<i class="fa fa-paint-brush"></i>',left:'[color="#"]',right:"[/color]"},size:{title:"Размер текста",text:'<i class="fa fa-text-height"></i>',left:'[size="1"]',right:"[/size]"},img:{title:"Изображени",text:'<i class="fa fa-picture-o"></i>',left:"[img]",right:"[/img]"},quote:{title:"Цитата",text:'<i class="fa fa-quote-right"></i>',left:"[quote]",right:"[/quote]"},urlAlt:{title:"Ссылка",text:'<i class="fa fa-link"></i>',left:'[url=""]',right:"[/url]"},code:{title:"Код",text:'<i class="fa fa-code"></i>',left:"[code]",right:"[/code]"},line:{title:"Горизонтальная линия",text:'<i class="fa fa-minus"></i>',left:"",right:"[line]"},youtube:{title:"Ссылка на YouTube видео",text:'<i class="fa fa-youtube-play"></i>',left:"[youtube]",right:"[/youtube]"},hide:{title:"Скрыть панель",text:'<i class="fa fa-angle-up"></i>',method:function(t){t.closest(".bbpanel-target").slideUp("fast")}}},items:null,renderItems:function(){return null===pipui.bbpanel.items&&(pipui.bbpanel.items="",$.each(pipui.bbpanel.codes,function(t,e){void 0!==e.method?pipui.bbpanel.items+='<li><a href="#bb-'+t+'" class="bbpanel-tag" data-method="'+t+'" title="'+e.title+'">'+e.text+"</a></li>":(e.left=e.left.replace(/"/g,"&quote;"),e.right=e.right.replace(/"/g,"&quote;"),pipui.bbpanel.items+='<li><a href="#bb-'+t+'" class="bbpanel-tag" data-left="'+e.left+'" data-right="'+e.right+'" title="'+e.title+'">'+e.text+"</a></li>")}),!0)},render:function(t){"string"==typeof t&&(t=$(t)),t.each(function(){var t=$(this),e=t.attr("data-panel-id");if(void 0===e){e=Math.random(),null===pipui.bbpanel.items&&pipui.bbpanel.renderItems(),t.attr("data-panel-id",e);var i=$('<div class="'+pipui.bbpanel.targetClass+'" data-panel-id="'+e+'"><ul data-panel-id="'+e+'">'+pipui.bbpanel.items+"</ul></div>");t.after(i)}})}},$(function(){$("body").on("focus",pipui.bbpanel.element,function(t){t.preventDefault();var e=$(this);pipui.bbpanel.render(e),setTimeout(function(){$("."+pipui.bbpanel.targetClass+'[data-panel-id="'+e.attr("data-panel-id")+'"]').slideDown("fast")},0)}).on("click","."+pipui.bbpanel.targetClass+" .bbpanel-tag",function(t){t.preventDefault();var e=$(this),i=e.attr("data-method");if(void 0===i){var a=e.attr("data-left").replace(/&quote;/g,'"'),o=e.attr("data-right").replace(/&quote;/g,'"'),r=e.closest("."+pipui.bbpanel.targetClass).attr("data-panel-id"),n=$(pipui.bbpanel.element+'[data-panel-id="'+r+'"]')[0];n.focus();var s=n.value,l=n.selectionStart,p=n.selectionEnd,c=s.substring(0,l),u=s.substr(p),d=s.substring(l,p);n.value=c+a+d+o+u,n.setSelectionRange(l,a.length+o.length+p)}else pipui.bbpanel.codes[i].method(e)})}),$(function(){$("body").on("click",".bb-spoiler-wrapper > .bb-spoiler > .bb-spoiler-trigger",function(t){t.preventDefault();var e=$(this);if("true"!=e.attr("data-bb-disabled")){e.attr("data-bb-disabled","true");var i=e.closest(".bb-spoiler");i.children(".bb-spoiler-text").slideToggle("fast",function(){e.attr("data-bb-disabled","false"),i.toggleClass("open")})}})}),pipui.formvalidator={form:"[data-formvalidator]",timeout:2e3,defaultType:"warning",storage:{}},$(function(){$("body").on("click",pipui.formvalidator.form+' [type="submit"]',function(t){for(var e=!0,i=$(this).closest("form").find("input, textarea, select"),a=0;a<i.length;a++){if(null!==i[a].getAttribute("name")){var o=$(i[a]);if(!i[a].checkValidity()){e=!1;var r=o.attr("data-formvalidator-id");void 0===r&&(r=Math.random().toString(),o.attr("data-formvalidator-id",r));var n=o.attr("data-formvalidator-text");void 0===n&&(n="Поле заполнено неверно");var s=$('.formvalidator-alert[data-formvalidator-id="'+r+'"]');if(!s.length){var l=o.closest("label");l.length?l.after('<div class="formvalidator-alert" data-formvalidator-id="'+r+'"></div>'):o.after('<div class="formvalidator-alert" data-formvalidator-id="'+r+'"></div>'),s=$('.formvalidator-alert[data-formvalidator-id="'+r+'"]')}var p=o.attr("data-formvalidator-type");void 0===p&&(p=pipui.formvalidator.defaultType),s.removeClass("warning info danger success").addClass(p);var c="";"warning"==p?c='<i class="fa fa-exclamation-triangle"></i>':"danger"==p?c='<i class="fa fa-exclamation-circle"></i>':"info"==p?c='<i class="fa fa-info-circle"></i>':"success"==p&&(c='<i class="fa fa-check-circle"></i>'),s.html('<div class="wrapper"><div class="icon-block">'+c+'</div><div class="text-block">'+n+'</div><div class="close-block"><a href="#" class="close">&times;</a></div></div>').fadeIn("fast")}}}if(!e)return t.preventDefault(),t.stopPropagation(),t.stopImmediatePropagation(),!1}).on("click",".formvalidator-alert > .wrapper > .close-block > .close",function(t){t.preventDefault(),$(this).closest(".formvalidator-alert").fadeOut("fast")}).on("input change",pipui.formvalidator.form+" input, "+pipui.formvalidator.form+" select, "+pipui.formvalidator.form+" textarea",function(){var t=$(this);if(t[0].checkValidity()){var e=$('.formvalidator-alert[data-formvalidator-id="'+t.attr("data-formvalidator-id")+'"]');e.length&&e.fadeOut("fast")}})}),pipui.dropdown={toggle:function(t){if(!t.length)return!1;var e=t.find(".dropdown-target:first");if(!e.length)return!1;e.is(":visible")?pipui.dropdown.hide(t):pipui.dropdown.show(t)},show:function(t){if(!t.length)return!1;t.addClass("active");var e=t.find(".dropdown-trigger:first");"auto"==t.attr("data-dropdown-placement")&&(pipui.top_space(e)>pipui.bottom_space(e)?t.attr("data-dropdown-y","top"):t.attr("data-dropdown-y","bottom"),pipui.left_space(e)>pipui.right_space(e)?t.attr("data-dropdown-x","left"):t.attr("data-dropdown-x","right")),e.addClass("active")},hide:function(t){if(!t.length)return!1;t.removeClass("active"),t.find(".dropdown.active, .dropdown-trigger.active").removeClass("active")}},$(function(){$("body").on("click",".dropdown > .dropdown-trigger",function(t){t.preventDefault(),pipui.dropdown.toggle($(this).closest(".dropdown"))}),$("html").on("click","body",function(t){var e=$(t.target).closest(".dropdown:not(.dropdown-submenu)");$(".dropdown.active").each(function(){var t=$(this).closest(".dropdown:not(.dropdown-submenu)");t.is(e)||(t.removeClass("active"),t.find(".dropdown.active, .dropdown-trigger.active").removeClass("active"))})})}),$(function(){$("body").on("click","[data-toggle]",function(t){"INPUT"!=t.target.tagName&&t.preventDefault();var e=$(this),i=e.attr("data-toggle"),a=$(i);if(a.length){var o=e.attr("data-toggle-class"),r=e.attr("data-toggle-fade");"fade"==r?a.fadeToggle("fast",function(){o&&$(this).toggleClass(o)}):"slide"==r?a.slideToggle("fast",function(){o&&$(this).toggleClass(o)}):a.toggle(function(){o&&$(this).toggleClass(o)})}})}),pipui.tabindex={search_next:function(t,e){var i=e.find("[tabindex]"),a=i.length;if(!a)return null;if(null===t||1==a)return i[0].getAttribute("tabindex");for(var o=[],r=0;r<a;r++)o.push(parseInt(i[r].getAttribute("tabindex")));o=o.sort(function(t,e){return t-e});var n=0;$.each(o,function(e,i){if(i==t)return n=e,!1});var s=o[n+1];return void 0===s&&(s=o[0]),s}},$(function(){$("body").on("keydown",function(t){if(9==t.which){t.preventDefault();var e=$(t.target).closest("[data-tabindex]");e.length||(e=$("body"));var i=pipui.tabindex.search_next(t.target.getAttribute("tabindex"),e);$('[tabindex="'+i+'"]').focus()}})}),pipui.pagination={get_data:function(t){var e=parseInt(t.attr("data-pagination"));isNaN(e)&&(e=0);var i=parseInt(t.attr("data-pagination-current"));(isNaN(i)||i<=0)&&(i=1);var a=parseInt(t.attr("data-pagination-pages"));(isNaN(a)||a<=0)&&(a=1);var o=t.attr("data-pagination-url");return void 0===o&&(o="/page-{NUM}"),{type:e,current:i,pages:a,url:o}},init:function(){var t=$(".pagination[data-pagination]");t.each(function(){var t=$(this),e=pipui.pagination.get_data(t),i=pipui.pagination.types[e.type];void 0!==i&&i.update(t,e.current,e.pages,e.url)}),t.fadeIn()},types:{0:{update:function(t,e,i,a){for(var o="",r=1;r<=i;r++)o+='<li data-page="'+r+'" '+(r==e?'class="active"':"")+">",o+='<a title="'+r+'" href="'+a.replace("{NUM}",r)+'">'+r+"</a>",o+="</li>";t.html(o)}},1:{pages:2,update:function(t,e,i,a){var o="",r=this.pages;i<2*r+1&&(r=Math.floor(i/2)-1),e>1&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",e-1)+'">‹</a></li>');for(var n=r;n<e;n++)n<1||(o+='<li data-page="'+n+'" '+(n==e?'class="active"':"")+">",o+='<a title="'+n+'" href="'+a.replace("{NUM}",n)+'">'+n+"</a>",o+="</li>");o+='<li class="active" data-page="'+e+'">',o+='<a title="'+e+'" href="'+a.replace("{NUM}",e)+'">'+e+"</a>",o+="</li>";for(var s=e+1;s<=r;s++)s>i||(o+='<li  data-page="'+s+'" '+(s==e?'class="active"':"")+">",o+='<a title="'+s+'" href="'+a.replace("{NUM}",s)+'">'+s+"</a>",o+="</li>");e<i&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",e+1)+'">›</a></li>'),t.html(o)}},2:{pages:2,update:function(t,e,i,a){var o="",r=this.pages;i<2*r+1&&(r=Math.floor(i/2)-1),e-1>1&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",1)+'">«</a></li>'),e>1&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",e-1)+'">‹</a></li>');for(var n=r;n<e;n++)n<1||(o+='<li data-page="'+n+'" '+(n==e?'class="active"':"")+">",o+='<a title="'+n+'" href="'+a.replace("{NUM}",n)+'">'+n+"</a>",o+="</li>");o+='<li data-page="'+e+'" class="active">',o+='<a title="'+e+'" href="'+a.replace("{NUM}",e)+'">'+e+"</a>",o+="</li>";for(var s=e+1;s<=r;s++)s>i||(o+='<li data-page="'+s+'" '+(s==e?'class="active"':"")+">",o+='<a title="'+s+'" href="'+a.replace("{NUM}",s)+'">'+s+"</a>",o+="</li>");e<i&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",e+1)+'">›</a></li>'),e<i-1&&(o+='<li class="scroller"><a href="'+a.replace("{NUM}",i)+'">»</a></li>'),t.html(o)}},3:{pages:2,scroll:function(t,e){var i=pipui.pagination.get_data(e),a=parseInt(e.find("li.selected").attr("data-page"));"prev"==t?(a-1<1&&(a=2),this.update(e,i.current,i.pages,i.url,a-1)):"next"==t?(a+1>i.pages&&(a=i.pages-1),this.update(e,i.current,i.pages,i.url,a+1)):"first"==t?this.update(e,i.current,i.pages,i.url,1):"last"==t&&this.update(e,i.current,i.pages,i.url,i.pages)},update:function(t,e,i,a,o){var r="",n=pipui.pagination.types[3].pages;i<2*n+1&&(n=Math.floor(i/2)-1),void 0===o&&(o=e);var s=o-n;s<1&&(s=1);var l=s+2*n;l>i&&(s=(l=i)-2*n),n<=1&&(s=1,l=i),r+='<li class="scroller"><a data-pagination-scroll="first" href="#">«</a></li>',r+='<li class="scroller"><a data-pagination-scroll="prev" href="#">‹</a></li>';for(var p=s;p<=l;p++)r+='<li class="'+(p==e?"active":"")+" "+(p==o?"selected":"")+'" data-page="'+p+'">',r+='<a title="'+p+'" href="'+a.replace("{NUM}",p)+'">'+p+"</a>",r+="</li>";r+='<li class="scroller"><a data-pagination-scroll="next" href="#">›</a></li>',r+='<li class="scroller"><a data-pagination-scroll="last" href="#">»</a></li>',t.html(r)}}}},$(function(){$(".pagination[data-pagination]").hide(),pipui.pagination.init(),$("body").on("click",".pagination[data-pagination] [data-pagination-scroll]",function(t){t.preventDefault();var e=$(this),i=e.closest(".pagination"),a=pipui.pagination.get_data(i),o=e.attr("data-pagination-scroll");pipui.pagination.types[a.type].scroll(o,i)})}),pipui.navmenu={toggle:function(t){var e=t.closest(".nav-menu-item"),i=e.children(".nav-sub-menu");if(!i.length)return!1;i.is(":visible")?t.removeClass("active"):t.addClass("active"),i.slideToggle("fast",function(){$(this).is(":hidden")?e.removeClass("active"):e.addClass("active")})}},$(function(){$("body").on("click",".nav-menu .nav-menu-link.nav-menu-toggle",function(t){t.preventDefault(),pipui.navmenu.toggle($(this))})}),pipui.autocomplete=function(t){var e,i,a,o,r,n,s=void 0,l="plain",c=[],u=Math.random(),d="GET",f=400,h=3,v=10,g=this,m="",b=[],y='<div class="autocomplete" data-ac-id="{ID}"><ul class="autocomplete-list">{ITEMS}</ul></div>',$='<li class="autocomplete-item"><a href="#" class="autocomplete-link" data-index="{KEY}" rel="nofollow">{VALUE}</a></li>',w="";this.setParams=function(t){return n=t,g},this.setTemplateBlock=function(t){return y=t,g},this.setTemplateSelector=function(t){return $=t,g},this.getResult=function(){return b},this.setType=function(t){return l="string"!=typeof t?"plain":t,g},this.setURL=function(t){return e="string"!=typeof t?"":t,g},this.setData=function(t){return c="object"!=typeof t?[]:t,g},this.setMin=function(t){return h="number"!=typeof t||t<1?1:parseInt(t),g},this.setMethod=function(t){return d="string"!=typeof t?"":t,g},this.setTimer=function(t){return f="number"!=typeof t||t<0?0:parseInt(t),g},this.setResults=function(t){return v="number"!=typeof t||t<1?1:parseInt(t),g},this.setKey=function(t){return i="string"!=typeof t?void 0:t,g},this.setInput=function(t){if("object"==typeof t)s=t;else{if("string"!=typeof t)return g;s=document.querySelector(t)}var e=t.getAttribute("data-ac-url");e&&g.setURL(e);var i=t.getAttribute("data-ac-method");i&&g.setMethod(i);var a=t.getAttribute("data-ac-type");a&&g.setType(a);var o=t.getAttribute("data-ac-key");o&&g.setKey(o);var r=t.getAttribute("data-ac-data");r&&g.setData(r.split(",")).setType("array");var n=t.getAttribute("data-ac-min");n&&(n=parseInt(n),!isNaN(n)&&n>0&&g.setMin(n));var l=t.getAttribute("data-ac-timer");l&&(l=parseInt(l),isNaN(l)||g.setTimer(l));var p=t.getAttribute("data-ac-results");return p&&(p=parseInt(p),!isNaN(p)&&p>0&&g.setResults(p)),g},this.setInput(t),this.getBlock=function(){return(o=void 0!==o?o:document.querySelector('.autocomplete[data-ac-id="'+u+'"]'))||(p.append(document.body,w),o=document.querySelector('.autocomplete[data-ac-id="'+u+'"]')),o},this.hide=function(){var t=g.getBlock();return t&&t.classList.remove("visible"),g},this.show=function(){var t=g.getBlock();return t&&t.classList.add("visible"),g},this.prepend=function(t){return b.unshift(t),g},this.append=function(t){return b.push(t),g},this.choice=void 0,this.complete=function(t,e){return 200==e.status?"json"==l||"array"==l?g.setData(JSON.parse(t)):g.setData(t.split(",")):g.setData([]),g.search(m,c),g.getResult().length?g.updateDOM().updatePosition().show():g.hide(),g},this.error=function(t,e){return g},this.request=function(){var t;if(r=new XMLHttpRequest,"object"==typeof n&&"[object FormData]"!=n.toString())for(var i in t=new FormData,n)n.hasOwnProperty(i)&&t.append(i,n[i]);else t="function"==typeof n?n():new FormData;return t.has("value")&&t.delete("value"),t.append("value",m),r.open(d,e,!0),r.setRequestHeader("Cache-Control","no-cache"),r.send(t),r.onload=function(){200!=r.status&&"function"==typeof g.error&&g.error(r.responseText,r),g.complete(r.response,r)},r.onerror=function(){"function"==typeof g.error&&g.error("error",r)},g},this.updatePosition=function(){var t=g.getBlock();if(t&&s){var e=s.getBoundingClientRect();t.style.top=e.top+e.height+window.pageYOffset+"px",t.style.left=e.left+window.pageXOffset+"px"}return g},this.clickEvent=function(t){var e=t.getAttribute("data-value");return s.value=e||t.innerHTML,g.hide(),t.classList.remove("hover"),"function"==typeof g.choice&&g.choice(t),g},this.updateClickEvents=function(){var t=document.querySelectorAll('.autocomplete[data-ac-id="'+u+'"] .autocomplete-link');if(!t||!t.length)return g;for(var e=0;e<t.length;e++)"function"!=typeof t[e].onclick&&(t[e].onclick=function(t){t.preventDefault(),g.clickEvent(t.target)});return g},this.updateDOM=function(){var t=g.getResult(),e=t.length;if(!e)return g.hide(),g;for(var i="",a=0;a<e;a++){var r=void 0;if("plain"==l||"array"==l)r=p.replaceAll($,"{VALUE}",t[a]),r=p.replaceAll(r,"{KEY}",a.toString());else for(var n in t[a])t[a].hasOwnProperty(n)&&(r=void 0===r?p.replaceAll($,"{"+n+"}",t[a][n]):p.replaceAll(r,"{"+n+"}",t[a][n]));i+=r}var s=g.getBlock();return s&&s.remove(),o=void 0,w=p.replaceAll(y,"{ID}",u),w=p.replaceAll(w,"{ITEMS}",i),g.getBlock(),g.updateClickEvents(),g},this.search=function(t,e){b=[],"plain"==l&&e.length&&(e=e.split(","));var a,o=e;if(Array.isArray(e)||(o=Object.keys(e)),!o.length)return b;var r=0;for(var n in e)if(e.hasOwnProperty(n)&&(a=void 0!==i?e[n][i]:e[n],-1!==p.indexOfCase(a,t)&&(r++,g.append(e[n]),r>=v)))break;return b},this.typing=function(t){return(m=t).length<h?(b=[],g.hide(),g):(void 0!==a&&clearTimeout(a),a=setTimeout(function(){void 0!==e?g.request():(g.search(t,c),g.getResult().length?g.updateDOM().updatePosition().show():g.hide())},f),g)};var k=function(){s.oninput=function(){g.typing(this.value)},s.onfocus=function(){this.value.length>=h&&g.typing(this.value)},s.addEventListener("keydown",function(t){if(m.length>=h&&40==t.keyCode||38==t.keyCode||13==t.keyCode)if(t.preventDefault(),40==t.keyCode||38==t.keyCode){for(var e=document.querySelectorAll('.autocomplete[data-ac-id="'+u+'"] .autocomplete-link'),i=e?e.length:0,a=-1,o=(t.keyCode,0);o<i;o++)if(e[o].classList.contains("hover")){e[o].classList.remove("hover"),a=o;break}e[40==t.keyCode?a==i-1?0:a+1:0==a?i-1:a-1].classList.add("hover")}else{var r=document.querySelector('.autocomplete[data-ac-id="'+u+'"] .autocomplete-link.hover');r&&g.clickEvent(r)}},!1),s.onblur=function(t){t.relatedTarget&&t.relatedTarget.classList.contains("autocomplete-link")||g.hide()},s.setAttribute("data-ac-id",u)};if("object"==typeof s&&s){var x=s.length;"number"==typeof x?x>0&&(s=s[0],k()):k()}return this},document.addEventListener("DOMContentLoaded",function(){for(var t,e=this.querySelectorAll("[data-ac]"),i=0;i<e.length;i++)t=i,new p.autocomplete(e[t]);window.onresize=function(){var t=document.querySelector(".autocomplete.visible");if(t){var e=t.getAttribute("data-ac-id"),i=document.querySelector('input[data-ac-id="'+e+'"]').getBoundingClientRect();t.style.top=i.top+i.height+window.pageYOffset+"px",t.style.left=i.left+window.pageXOffset+"px"}}}),pipui.poplight={overlay_close:!0,overlay:function(t){var e=$(".poplight-overlay");e.length||(e=$('<div class="poplight-overlay"></div>'),$("body").append(e)),this.overlay_close?e.addClass("canclose"):e.removeClass("canclose"),setTimeout(function(){t?e.addClass("active"):e.removeClass("active")},0)},active:function(t){if("string"==typeof t&&(t=$(t)),!t.length)return!1;this.overlay(!0);var e=t.css("position");void 0!==t.attr("data-poplight-prepos")&&t.attr("data-poplight-prepos",e),"static"==e&&t.css("position","relative"),t.addClass("poplight-box");var i=t.first(),a=i.offset(),o=$(window),r=o.width(),n=o.height(),s=a.top-n/2+i.outerHeight()/2;return $("html").animate({scrollTop:s},500),t.each(function(t){var e=$(this),i=e.attr("data-poplight-message"),a=e.attr("data-poplight-id");if(void 0===a&&(a=Math.random(),e.attr("data-poplight-id",a)),"#"==i[0]||"["==i[0]||"."==i[0])(i=$(i)).attr("data-poplight-id",a);else{var o=$('.poplight-message[data-poplight-id="'+a+'"]');o.length?(o.html('<a href="#" class="poplight-message-close">&times;</a>'+i),i=o):(i=$('<div class="poplight-message" data-poplight-id="'+a+'"><a href="#" class="poplight-message-close">&times;</a>'+i+"</div>"),$("body").append(i))}var s=e.outerHeight(),l=e.outerWidth(),p=e.offset(),c=p.top,u=p.left,d=r-(u+l),f=n-(c+s);i.removeClass("poplight-top poplight-bottom poplight-left poplight-right"),c>f?i.css({top:"auto",bottom:n-c+8+"px"}).addClass("poplight-top"):i.css({bottom:"auto",top:c+s+8+"px"}).addClass("poplight-bottom"),u>d?i.css({left:"auto",right:d+20+"px"}).addClass("poplight-left"):i.css({right:"auto",left:u+20+"px"}).addClass("poplight-right"),setTimeout(function(){i.addClass("active")},t)}),!0},deactive:function(t){if("string"==typeof t&&(t=$(t)),!t.length)return!1;var e=t.attr("data-poplight-prepos");return t.css("position",e).removeClass("poplight-box").removeAttr("data-poplight-prepos"),$(".poplight-message").removeClass("active"),this.overlay(!1),!0}},$(function(){$("body").on("click","[data-poplight]",function(t){t.preventDefault(),pipui.poplight.active($(this).attr("data-poplight"))}).on("click",".poplight-overlay.active.canclose",function(t){t.preventDefault(),pipui.poplight.deactive(".poplight-box")}).on("click",".poplight-message .poplight-message-close",function(t){t.preventDefault(),$(this).closest(".poplight-message").removeClass("active"),$(".poplight-message.active").length||pipui.poplight.deactive(".poplight-box")})}),pipui.popup={showSpeed:"fast",hideSpeed:"fast",arrowSize:8,lock:!1,create:function(t,e,i,a,o){if("string"==typeof t&&(t=$(t)),!t.length)return!1;var r,n=t.attr("data-popup-id");if((void 0===o&&(o="top"),void 0!==n)&&(r=$('.popup[data-popup-id="'+n+'"]')).length)return a&&r.attr("data-popup-closeover","true"),r.attr("data-popup-placement",o),this.show(r,t),n;return n=Math.random(),r=$('<div class="popup" data-popup-id="'+n+'" data-popup-placement="'+o+'"><div class="popup-header">'+e+'</div><div class="popup-body">'+i+"</div></div>"),a&&r.attr("data-popup-closeover","true"),$("body").append(r),this.show(r,t),'.popup[data-popup-id="'+n+'"]'},show:function(t,e){if(this.lock)return!1;if("string"==typeof t&&(t=$(t)),"string"==typeof e&&(e=$(e)),!t.length||1!=e.length)return!1;if(this.lock=!0,void 0===t.attr("data-popup-id")){var i=Math.random();t.attr("data-popup-id",i),e.attr("data-popup-id",i)}var a=this.calculate_position(t,e);return t.css({top:a.top+"px",left:a.left+"px"}),t.fadeIn(this.showSpeed,function(){$(this).addClass("active"),pipui.popup.lock=!1}),!0},hide:function(t){return!this.lock&&("string"==typeof t&&(t=$(t)),!!t.length&&(this.lock=!0,t.fadeOut(this.hideSpeed,function(){$(this).removeClass("active"),pipui.popup.lock=!1}),!0))},toggle:function(t,e){return!this.lock&&("string"==typeof t&&(t=$(t)),t.hasClass("active")?this.hide(t):this.show(t,e),!0)},calculate_placement:function(t,e,i,a,o,r,n){if("left"!=t&&"top"!=t&&"right"!=t&&"bottom"!=t&&(t="top"),"left"==t){if(o>=r+this.arrowSize)return"left";if(i>=r+this.arrowSize)return"right";if(a>e&&a>n+this.arrowSize)return"bottom"}else if("right"==t){if(i>=r+this.arrowSize)return"right";if(o>=r+this.arrowSize)return"left";if(a>e&&a>n+this.arrowSize)return"bottom"}else if("bottom"==t){if(a>=n+this.arrowSize)return"bottom";if(e>=n+this.arrowSize)return"top";if(o>=r+this.arrowSize)return"left";if(i>r+this.arrowSize)return"right"}else if("top"==t){if(e>=n+this.arrowSize)return"top";if(a>=n+this.arrowSize)return"bottom";if(o>=r+this.arrowSize)return"left";if(i>r+this.arrowSize)return"right"}return"top"},calculate_position:function(t,e){var i=e.offset(),a=t.outerWidth(),o=t.outerHeight(),r=e.outerWidth(),n=e.outerHeight(),s=t.attr("data-popup-placement"),l=$(window),p=l.width(),c=l.height(),u={top:i.top-window.pageYOffset,left:i.left,bottom:c-(i.top-window.pageYOffset+n),right:p-(i.left+r)};return s=this.calculate_placement(s,u.top,u.right,u.bottom,u.left,a,o),t.attr("data-popup-direction",s),"left"==s?{top:i.top+n/2-o/2,left:i.left-a-this.arrowSize}:"right"==s?{top:i.top+n/2-o/2,left:i.left+r+this.arrowSize}:"bottom"==s?{top:i.top+n+this.arrowSize,left:i.left+r/2-a/2}:{top:i.top-o-this.arrowSize,left:i.left+r/2-a/2}},update:function(){var t=$(".popup.active");return!!t.length&&(t.each(function(){var t=$(this),e=t.attr("data-popup-id"),i=$('[data-popup-id="'+e+'"]:not(.popup)');if(i.length){var a=pipui.popup.calculate_position(t,i);t.css({top:a.top+"px",left:a.left+"px"})}}),!0)}},$(function(){$("body").on("click","[data-popup]",function(t){t.preventDefault();var e=$(this);pipui.popup.toggle(e.attr("data-popup"),e)}),$("html").on("click","body",function(t){var e=$(t.target).closest(".popup");if(e.length){var i=e.attr("data-popup-id");void 0!==i&&pipui.popup.hide($('.popup[data-popup-closeover]:not([data-popup-id="'+i+'"])'))}else pipui.popup.hide($(".popup[data-popup-closeover]"))}),$(window).on("resize scroll",function(){pipui.popup.update()})}),function(t){var e={setControl:function(t,e){return e.find(".slider-control .slider-control-label.active").removeClass("active"),e.find(".slider-control .slider-control-label:nth-child("+(t+1)+")").addClass("active"),e},prev:function(t){if(void 0===t||!t.length)return t;var e=t.attr("data-slider-id"),a=i[e],o=a.current<=0?a.slides.length-1:a.current-1;return this.setSlide(o,t)},next:function(t){if(void 0===t||!t.length)return t;var e=t.attr("data-slider-id"),a=i[e],o=a.current+1>=a.slides.length?0:a.current+1;return this.setSlide(o,t)},auto:function(t,e){var a=this,o=i[e];void 0!==o.timeout&&clearTimeout(i[e].timeout),!t.hasClass("paused")&&o.auto&&o.autoSpeed&&(i[e].timeout=setTimeout(function(){a.next(t)},o.autoSpeed))},setSlide:function(e,a){var o=this;if(void 0===a||!a.length)return a;var r=a.attr("data-slider-id"),n=i[r];if(void 0===n||1==a.find(".slider-wrapper > .slider-slide").length||n.locked)return a;a.trigger("slider.change"),i[r].locked=!0;var s=a.find(".slider-wrapper > .slider-slide.active");s.removeClass("active");var l=a.find(".slider-wrapper > .slider-slide:nth-child("+(e+1)+")");return l.length?(n.current<e?(l.css({right:"auto",left:"100%","z-index":"2"}),s.css({left:"auto",right:"0","z-index":"1"}),l.animate({left:"0"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).addClass("active").trigger("slider.change.complete"),o.auto(a,r)}}),s.animate({right:"100%"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).removeClass("active").trigger("slider.change.complete"),i[r].locked=!1,o.auto(a,r)}})):n.current>e?(l.css({left:"auto",right:"100%","z-index":"2"}),s.css({right:"auto",left:"0","z-index":"1"}),l.animate({right:"0"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).addClass("active").trigger("slider.change.complete"),o.auto(a,r)}}),s.animate({left:"100%"},{duration:n.speed,easing:n.easing,queue:!1,complete:function(){t(this).removeClass("active").trigger("slider.change.complete"),i[r].locked=!1,o.auto(a,r)}})):(i[r].locked=!1,a.trigger("slider.change.complete")),i[r].current=e,this.setControl(e,a)):void 0}},i={};t.fn.slider=function(a){var o=Math.random();return i[o]=t.extend({},{id:o,height:"280px",width:"100%",slides:[],control:"default",auto:!0,autoSpeed:5e3,pauseOnHover:!0,timeout:void 0,current:0,speed:800,easing:"easeInOutQuint",locked:!1},a),this.setHeight=function(t){return i[o].height=t,this},this.setWidth=function(t){return i[o].width=t,this},this.setSlides=function(t){return i[o].slides=t,this},this.setControl=function(t){return i[o].control=t,this},this.setAuto=function(t){return i[o].auto=t,this},this.setAutoSpeed=function(t){return i[o].autoSpeed=t,this},this.setPauseOnHover=function(t){return i[o].pauseOnHover=t,this},this.setSpeed=function(t){return i[o].speed=t,this},this.setEasing=function(t){return i[o].easing=t,this},this.setSlide=function(t){return e.setSlide(t,this),this},this.next=function(){return e.next(this),this},this.prev=function(){return e.prev(this),this},this.restoreControl=function(){this.find(".slider-control").remove(),this.append('<div class="slider-control"></div>');for(var e=this.children(".slider-control"),a="",r=0;r<i[o].slides.length;r++)a=t('<a href="#" class="slider-control-label"></a>'),i[o].current==r&&a.addClass("active"),e.append(a);return this},this.update=function(){var e=this;if(e.html(""),e.addClass("slider active").attr("data-slider-id",i[o].id).html('<div class="slider-wrapper" style="width: '+i[o].width+"; height: "+i[o].height+';"></div>'),"object"!=typeof i[o].slides)return e;var a=i[o].slides.length;if(!a)return e;for(var r="",n=e.children(".slider-wrapper"),s=0;s<a;s++)"string"==typeof(r=i[o].slides[s])&&r.length&&(r=t(r),s==i[o].current&&r.addClass("active"),n.append(r));return void 0!==i[o].timeout&&clearTimeout(i[o].timeout),i[o].auto&&i[o].autoSpeed&&(i[o].timeout=setTimeout(function(){e.next()},i[o].autoSpeed)),e.restoreControl()},this.update()},t(function(){t("body").on("click",".slider > .slider-control > .slider-control-label",function(a){a.preventDefault();var o=t(this),r=o.closest(".slider").attr("data-slider-id"),n=t('.slider[data-slider-id="'+r+'"]');if(void 0!==i[r]){var s=o.closest(".slider-control").find(".slider-control-label").index(o);e.setSlide(s,n)}}).on("mouseenter",".slider",function(){var e=t(this).closest(".slider"),a=e.attr("data-slider-id"),o=i[a];o.pauseOnHover&&void 0!==o.timeout&&(o.auto&&o.autoSpeed&&e.addClass("paused"),clearTimeout(i[a].timeout))}).on("mouseleave",".slider",function(){var a=t(this),o=a.attr("data-slider-id");i[o].pauseOnHover&&(a.removeClass("paused"),e.auto(a,o))})})}(jQuery),pipui.tooltip={margin:2,trigger:"data-tooltip",fadeInSpeed:"fast",fadeOutSpeed:"fast",getPosition:function(t){return void 0!==t.attr(pipui.tooltip.trigger)?"":void 0!==t.attr(pipui.tooltip.trigger+"-left")?"-left":void 0!==t.attr(pipui.tooltip.trigger+"-right")?"-right":void 0!==t.attr(pipui.tooltip.trigger+"-top")?"-top":"-bottom"},setPosition:function(t,e,i){var a=-9999,o=-9999;e.css({top:a+"px",left:o+"px"});var r=t.offset(),n=t.outerWidth(),s=t.outerHeight(),l=e.outerWidth(),p=e.outerHeight();"-left"==i?(a=r.top+s/2-p/2,o=r.left-l-4-pipui.tooltip.margin):"-right"==i?(a=r.top+s/2-p/2,o=r.left+n+4+pipui.tooltip.margin):"-bottom"==i?(a=r.top+s+4+pipui.tooltip.margin,o=r.left+n/2-l/2):(a=r.top-p-4-pipui.tooltip.margin,o=r.left+n/2-l/2),e.css({top:a+"px",left:o+"px"})}},$(function(){$("body").on("mouseenter","["+pipui.tooltip.trigger+"], ["+pipui.tooltip.trigger+"-left], ["+pipui.tooltip.trigger+"-right],["+pipui.tooltip.trigger+"-top], ["+pipui.tooltip.trigger+"-bottom]",function(){var t=$(this),e=t.attr("data-tooltip-id"),i=pipui.tooltip.getPosition(t),a=pipui.tooltip.trigger+i,o=t.attr(a);if(void 0===e){e=Math.random(),t.attr("data-tooltip-id",e);var r=$('<div class="tooltip" data-tooltip-id="'+e+'">'+o+"</div>");$("body").append(r)}var n=$('.tooltip[data-tooltip-id="'+e+'"]');n.removeClass("tooltip-pos tooltip-pos-left tooltip-pos-right tooltip-pos-bottom tooltip-pos-top").addClass("tooltip-pos"+i),pipui.tooltip.setPosition(t,n,i),n.addClass("show")}).on("mouseleave","["+pipui.tooltip.trigger+"], ["+pipui.tooltip.trigger+"-left], ["+pipui.tooltip.trigger+"-right],["+pipui.tooltip.trigger+"-top], ["+pipui.tooltip.trigger+"-bottom]",function(){var t=$(".tooltip.show");t.length&&t.removeClass("show")})}),pipui.alertblock={show:function(t){"string"==typeof t&&(t=$(t)),t.fadeIn("fast")},hide:function(t){"string"==typeof t&&(t=$(t)),t.fadeOut("fast")}},$(function(){$("body").on("click",".alertblock .alertblock-close",function(t){t.preventDefault(),pipui.alertblock.hide($(this).closest(".alertblock"))})}),pipui.tagselector=function(t){var e,i=void 0,a=Math.random().toString(),o=1,r=0,n=this,s="append",l=!1,c='<div class="tagselector" data-ts-id="{ID}"><ul class="tagselector-list"></ul></div>',u='<li class="tagselector-item"><a href="#" title="Удалить" class="tagselector-link" data-value="{VALUE}" rel="nofollow">{NAME}</a><input type="hidden" name="tags[{NAME}]" value="{VALUE}" class="tagselector-value"></li>';this.setTemplateBlock=function(t){return c=t,n},this.setDisableEvents=function(t){return l=t,n},this.setTemplateSelector=function(t){return u=t,n},this.getResult=function(){return i?i.value:""},this.getInput=function(){return i},this.setMin=function(t){return o="number"!=typeof t||t<1?1:parseInt(t),n},this.setName=function(t){for(var e=n.getBlock().querySelectorAll(".tagselector-value"),i=0;i<e.length;i++){var a=e[i],o=a.getAttribute("name");a.setAttribute("name",t+a.substring(o.indexOf("[")))}return n},this.setPosition=function(t){return s="string"!=typeof t?"append":t,n},this.setMaxTags=function(t){return r="number"!=typeof t||t<0?0:parseInt(t),n},this.setInput=function(t){if("object"==typeof t)i=t;else{if("string"!=typeof t)return console.warn("[PipUI] Tag selector: invalid input object"),n;i=document.querySelector(t)}var e=t.getAttribute("data-ts-position");e&&n.setPosition(e);var a=t.getAttribute("data-ts-name");a&&n.setName(a);var o=t.getAttribute("data-ts-min");o&&(o=parseInt(o),!isNaN(o)&&o>0&&n.setMin(o));var r=t.getAttribute("data-ts-max-tags");return r&&(r=parseInt(r),isNaN(r)||n.setMaxTags(r)),n},this.setInput(t),this.getBlock=function(){return(e=void 0!==e?e:document.body.querySelector('.tagselector[data-ts-id="'+a+'"]'))||(p.after(i,p.replaceAll(c,"{ID}",a)),e=document.body.querySelector('.tagselector[data-ts-id="'+a+'"]')),e},this.pend=function(t,e,i){var a=n.getBlock(),o=p.replaceAll(u,"{VALUE}",e);void 0===i&&(i=e),o=p.replaceAll(o,"{NAME}",i);var r=a.querySelector(".tagselector-list");return void 0===t||"append"==t?p.append(r,o):p.prepend(r,o),n.updateClickEvents(),n},this.prepend=function(t,e){return n.pend("prepend",t,e)},this.append=function(t,e){return n.pend("append",t,e)},this.error=function(t,e){return console.warn("[PipUI] Tag selector: [CODE: "+e.status+"] - "+t),n},this.clickEvent=function(t){var e=t.closest(".tagselector-item");return e&&e.remove(),n},this.updateClickEvents=function(){var t=document.querySelectorAll('.tagselector[data-ts-id="'+a+'"] .tagselector-link');if(!t||!t.length)return n;for(var e=0;e<t.length;e++)"function"!=typeof t[e].onclick&&(t[e].onclick=function(t){t.preventDefault(),n.clickEvent(t.target)});return n};var d=function(){i.addEventListener("keydown",function(t){if(!l){var e=i.value.trim();if(e.length>=o&&(188==t.keyCode||13==t.keyCode)){console.warn("[PipUI] Tag selector: press key "+t.keyCode);var a=n.getBlock().querySelectorAll(".tagselector-value"),p=n.getBlock().querySelectorAll('.tagselector-value[value="'+e+'"]').length;(r<=0||a.length<r)&&!p&&(n.pend(s,e),i.value="")}}},!1);var t=i.value;if(t.length){for(var e=t.split(","),p=0;p<e.length;p++)n.pend(void 0,e[p]);i.value=""}n.updateClickEvents(),i.setAttribute("data-ts-id",a)};if("object"==typeof i&&i){var f=i.length;"number"==typeof f?f>0&&(i=i[0],d()):d()}return this},document.addEventListener("DOMContentLoaded",function(){for(var t,e=this.querySelectorAll("[data-ts]"),i=0;i<e.length;i++)t=i,new p.tagselector(e[t])});